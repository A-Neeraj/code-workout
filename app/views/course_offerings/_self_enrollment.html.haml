- if off.is_enrolled?(current_user)
  - if off.is_instructor?(current_user)
    Enrolled as instructor
  - elsif off.is_grader?(current_user)
    Enrolled as grader
  - elsif off.is_student?(current_user)
    = link_to 'Unenroll', unenroll_path(off), method: :delete
- else
  - if off.effective_cutoff_date < Time.now
    Closed
  - elsif off.self_enrollment_allowed?
    = link_to 'Enroll', enroll_path(off), method: :post
  - else
    Contact instructor
