= render partial: "layouts/breadcrumb",
  locals: {wid: @workouts.first.id, exid: nil, off: nil}
.row
  .col-md-12
    - @workouts.each do |w|
      %h1.col-md-6= link_to w.name, workout_path(id: w[:id])
      %p.col-md-12.teaser-tags.slim
        %span Tags:
        - w.all_tags.each do |t|
          =link_to t, search_path(search: t), method: :post, class: 'tag'
%br
.row
  .col-md-6
    = button_to 'Practice Workout', practice_workout_path(params[:id]),
      method: :get

%br

.row
  .tabpane
    %table{ border: 1 }
      %tr
        %td Course Offering
        %td Active
        %td Due
        %td Close
      - @workouts.first.workout_offerings.each do |woff|
        %tr
          %td= CourseOffering.find(woff.course_offering_id).display_name
          %td.xeditable{ id: 'opening_date',
            data: { type: 'text',
            url: '/workout_offerings/' + woff.id.to_s,
            resource: 'workout_offering',
            name: 'opening_date',
            xeditable: "true",
            pk: woff.id.to_s,
            model: 'workout_offering' } }= woff.opening_date
          %td.xeditable{ id: 'soft_deadline',
            data: { type: 'text',
            url: '/workout_offerings/' + woff.id.to_s,
            resource: 'workout_offering',
            name: 'soft_deadline',
            xeditable: "true",
            pk: woff.id.to_s,
            model: 'workout_offering' } }= woff.soft_deadline
          %td.xeditable{ id: 'hard_deadline',
            data: { type: 'text',
            url: '/workout_offerings/' + woff.id.to_s,
            resource: 'workout_offering',
            name: 'hard_deadline',
            xeditable: "true",
            pk: woff.id.to_s,
            model: 'workout_offering' } }= woff.hard_deadline

%b Workout exercises
.row
  .container-fluid.col-md-12
    - if @exs.empty?
      .alert No exercises in this workout
    - else
      - user_id = user_signed_in? ? current_user.id : 1
      - @exs.in_groups_of(2, false) do |row|
        = render partial: "exercises/thumblg", collection: row, as: :x,
          locals: { uid: user_id, wid: @workouts.first.id }
        .clearfix
